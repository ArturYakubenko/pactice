{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45015535-1baf0a26e6ef32c92247ee5f8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function findIMG(query) {\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then((resp) => { \n            if(!resp.ok) {\n        throw new Error('Failed to fetch images');\n            }        \n            return resp.json()\n    })\n}","import SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nlet simplelightbox = null\n\nexport function createLi(arr) {\n    return arr.map(({webformatURL, largeImageURL }) => {\n        return `<li>\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"\">\n        </a>\n        </li>`\n    }).join('')\n   \n}\n\nexport function rendering() {\n   if (!simplelightbox) {\n        simplelightbox = new SimpleLightbox('.gallery a');\n    } else {\n        simplelightbox.refresh();\n    }\n}\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { findIMG } from \"./js/pixabay-api\";\nimport { createLi } from \"./js/render-functions\";\nimport { rendering } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form')\nform.addEventListener(\"input\", hendlerInput)\nlet input = \"\"\nform.addEventListener(\"submit\", hendlerSubmit)\nconst gallery = document.querySelector(\".gallery\")\n\n\nfunction hendlerInput(evt) {\n    input = evt.target.value.trim()\n    \n}\n\nfunction hendlerSubmit(evt) {\n    evt.preventDefault()\n    evt.target.elements[0].value = \"\"\n    gallery.innerHTML = \"\"\n    showSpinner()\n    findIMG(input).then((data) => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n            title: 'No results',\n            message: 'Sorry, there are no images matching your search query. Please try again!',})\n          \n        }\n        else {\n            const markLi = createLi(data.hits)\n            gallery.insertAdjacentHTML(\"beforeend\", markLi)\n            rendering()\n           \n        }\n    }).catch((err) => {\n        iziToast.error({\n        title: 'Error',\n        message: \"error\"\n      })\n    })\n    .finally(() => {hideSpinner()})\n}\n\nfunction hideSpinner() {\n    document.querySelector('.spinner').style.display = 'none'\n}\nfunction showSpinner() {\n    document.querySelector('.spinner').style.display = 'block'\n}\n\n\n"],"names":["API_KEY","BASE_URL","findIMG","query","resp","simplelightbox","createLi","arr","webformatURL","largeImageURL","rendering","SimpleLightbox","form","hendlerInput","input","hendlerSubmit","gallery","evt","showSpinner","data","iziToast","markLi","err","hideSpinner"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAQC,EAAO,CAC3B,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAK,0DAA0D,EACvG,KAAMC,GAAS,CACZ,GAAG,CAACA,EAAK,GACb,MAAM,IAAI,MAAM,wBAAwB,EAEpC,OAAOA,EAAK,KAAM,CAC9B,CAAK,CACL,CCRA,IAAIC,EAAiB,KAEd,SAASC,EAASC,EAAK,CAC1B,OAAOA,EAAI,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,CAAa,IACjC;AAAA,mBACIA,CAAa;AAAA,oBACZD,CAAY;AAAA;AAAA,cAG3B,EAAE,KAAK,EAAE,CAEd,CAEO,SAASE,GAAY,CACpBL,EAGAA,EAAe,QAAO,EAFtBA,EAAiB,IAAIM,EAAe,YAAY,CAIxD,CCfA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,QAASC,CAAY,EAC3C,IAAIC,EAAQ,GACZF,EAAK,iBAAiB,SAAUG,CAAa,EAC7C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjD,SAASH,EAAaI,EAAK,CACvBH,EAAQG,EAAI,OAAO,MAAM,KAAM,CAEnC,CAEA,SAASF,EAAcE,EAAK,CACxBA,EAAI,eAAgB,EACpBA,EAAI,OAAO,SAAS,CAAC,EAAE,MAAQ,GAC/BD,EAAQ,UAAY,GACpBE,EAAa,EACbhB,EAAQY,CAAK,EAAE,KAAMK,GAAS,CAC1B,GAAIA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACf,MAAO,aACP,QAAS,0EAA0E,CAAE,MAGpF,CACD,MAAMC,EAASf,EAASa,EAAK,IAAI,EACjCH,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CX,EAAW,CAEd,CACT,CAAK,EAAE,MAAOY,GAAQ,CACdF,EAAS,MAAM,CACf,MAAO,QACP,QAAS,OACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAACG,EAAW,CAAE,CAAC,CAClC,CAEA,SAASA,GAAc,CACnB,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,MACvD,CACA,SAASL,GAAc,CACnB,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OACvD"}